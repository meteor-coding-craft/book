# 29.1 리액티비티의 개념과 미티어

리액티비티 프로그래밍은 미티어를 이루는 개념의 큰 축이지만 아주 오래전부터 우리 주변에 있어온 개념이다. 가장 가까운 예제가 엑셀이다. 엑셀을 언급하기 전에 다음 코드를 잠깐 살펴보자.

```text
A1 = 5
B1 = 8
C1 = A1 + B1    
A1 = 2 

print(C1)
```

print가 값을 출력하는 함수라고 할 때 C1은 몇이 출력될까? 물론 13이 출력될 것이라고 추측된다. 일반 프로그래밍에서 C1은 13이다. 하지만 리액티브 프로그래밍에서 C1은 10이다. C1 = A1 + B1이라고 선언만 하여도 A1이나 B1 값이 바뀌면 그것이 감지되어 C1 값은 자동으로 재계산되어 할당된다.

이것을 엑셀에서 한 번 살펴보자

![&#xADF8;&#xB9BC; 29-2 &#xC5D1;&#xC140;&#xC758; &#xB9AC;&#xC561;&#xD2F0;&#xBE44;&#xD2F0;1](../.gitbook/assets/image%20%285%29.png)

그림처럼 작성하고 나서 A1이나 B1의 값을 바꿔보자. C1의 값은 자동으로 변경되는 걸 확인할 수 있다. 우리는 A1이나 B1 셀의 값만 바꾸었을 뿐 C1의 값을 재계산하기 위해 아무것도 하지 않았다.

다시 엑셀로 돌아가 다음 그림을 보자.

![&#xADF8;&#xB9BC; 29-3 &#xC5D1;&#xC140;&#xC758; &#xB9AC;&#xC561;&#xD2F0;&#xBE44;&#xD2F0;2](../.gitbook/assets/image%20%2811%29.png)

C1의 값은 "fx=A1+B1"라고 표시되어 있다. 화재를 감지한 뒤 물을 뿌리는 동작을 정의한 것이다. 즉, fx는 A1과 B1을 더하여 C1에 할당하는 "동작"을 정의했다. 그리고 이 동작은 A1과 B1이 변경 될 때마다 엑셀에 의해 자동으로 재호출된다. 이것이 엑셀의 "리액티비티"다.

![&#xADF8;&#xB9BC; 29-4 &#xC5D1;&#xC140;&#xC758; &#xB9AC;&#xC561;&#xD2F0;&#xBE44;&#xD2F0;&#xAC00; &#xB3D9;&#xC791;&#xD558;&#xB294; &#xBC29;&#xC2DD;](../.gitbook/assets/image%20%2830%29.png)



미티어에서는 A1, B1처럼 데이터를 포함한 셀을 "리액티브 데이터 소스", 그리고 "A1 + B1"처럼 연산하여 동작하는 것을 "리액티브 컴퓨테이션"이라고 부른다.

![&#xADF8;&#xB9BC; 29-5 &#xB9AC;&#xC561;&#xD2F0;&#xBE0C; &#xB370;&#xC774;&#xD130; &#xC18C;&#xC2A4;&#xC640; &#xB9AC;&#xC561;&#xD2F0;&#xBE0C; &#xCEF4;&#xD4E8;&#xD14C;&#xC774;&#xC158;](../.gitbook/assets/image%20%286%29.png)



그리고 리액티브 컴퓨테이션은 또 다른 컴퓨테이션의 소스가 될 수 있다. 다음 그림을 보자.

![&#xADF8;&#xB9BC; 29-6 &#xB9AC;&#xC561;&#xD2F0;&#xBE44;&#xD2F0;&#xC758; &#xC804;&#xC774;](../.gitbook/assets/image%20%2814%29.png)

위 그림에서 C1은 "fx = C1 / 2" 안에 C2의 값을 결정하는 함수의 데이터 소스로 사용된다. 이것은 리액티브 컴퓨테이션은 다른 컴퓨테이션의 데이터 소스가 될 수 있음을 의미한다. 게다가 A1, B1의 값이 변경되면 그 이벤트의 감지가 C1을 거쳐 C2까지 자동으로 전달된다. 이것은 미티어도 마찬가지다.

![&#xADF8;&#xB9BC; 29-7 &#xB9AC;&#xC561;&#xD2F0;&#xBE0C; &#xCEF4;&#xD4E8;&#xD14C;&#xC774;&#xC158;&#xC744; &#xB370;&#xC774;&#xD130; &#xC18C;&#xC2A4;&#xB85C; &#xC0AC;&#xC6A9;&#xD560; &#xC218; &#xC788;&#xB2E4;](../.gitbook/assets/image%20%2833%29.png)

지금까지 엑셀을 통해 알아본 리액티비티에 대한 성질을 정리하면 이렇다.

1. **리액티비티 정리 1**  리액티브 컴퓨테이션은 함수 구문에 있는 리액티브 데이터 소스\(A1, B2\)의 변화를 감지하여 재실행 된다.  ****
2. **리액티비티 정리 2** 리액티브 컴퓨테이션은 또 다른 리액티브 컴퓨테이션의 데이터 소스가 될 수 있다.  ****
3. **리액티비티 정리 3**  리액티브 데이터 소스의 변화는 이를 감싸고 있는 상위 데이터 컴퓨테이션으로 전이되어 변화가 감지된다.

